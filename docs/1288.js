(self.webpackJsonpbashscript=self.webpackJsonpbashscript||[]).push([[1288],{60326:t=>{function e(t){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}e.keys=()=>[],e.resolve=e,e.id=60326,t.exports=e},11181:(t,e,r)=>{"use strict";r.r(e),r.d(e,{transpileText:()=>I});var n=r(49100);r(10015);const a=(t,e,r=!1,n=!1)=>r||t.length>=e.length?t.reduce((t,r,a)=>a<e.length?[...t,...n?[e[a],r]:[r,e[a]]]:[...t,r],[]):a(e,t,!0,!0),s=t=>e=>{const r=e.slice().reverse().findIndex(t);return r>=0?e.length-1-r:r},o=t=>Array.isArray(t)?t:[t],c=(t={})=>new Proxy(t,{get:function(t,e,r){return e in t?t[e]:"getMockName"===e?()=>"Scope":"mock"===e?{calls:[]}:{type:"unknown",data:{},length:e.toString().length,reduce:t=>t,parts:[],toString:()=>e.toString()}}}),i={parts:[],partsToExtract:[],processed:[],scopePath:[],scope:c(),parent:{type:"root",data:{},reduce:t=>t},indent:0},p=t=>({reduce:function({processed:e,parts:r,...n}){return{...n,processed:[...e,this],parts:[...r,t]}},parts:[t],data:{text:t},type:"raw"}),d=t=>"string"==typeof t||t.hasOwnProperty("toString"),u=t=>d(t)?p(t):t,l=(...t)=>({type:"group",data:{children:t},reduce:e=>y(t,e)}),g=(t,e=i)=>Array.isArray(t)?l(...t.flat(100).map(u)):"function"==typeof t?g(t(E(e)),e):u(t);function m(t){const{processed:e,...r}=y(this.parts||[],t);return{...r,processed:[...e,this]}}const f=({reducer:t,data:e})=>Object.assign(t,{data:e}),y=(t,{parent:e,...r}=i)=>t.reduce((t,r)=>{const n=g(r,t),a=(t=>{switch(t){case"enhance":case"group":return!0;default:return!1}})(n.type)?t.parent:n;return{...n.reduce({...t,parent:a}),parent:e}},{...r,parent:e}),x={type:"starter",data:{},reduce(t){const{processed:e,parts:r,indent:n}=t;return{...t,parts:n?[...r,"".padStart(n)]:r,processed:[...e,this]}}},h=(s(({type:t})=>"starter"===t),({_context:t})=>t.indent>0&&(t=>{const e=t.parts.slice().reverse()[0];return!e||"\n"===e})(t)?x:""),S=(t,e=i)=>{const{partsToExtract:r,parts:n}=y(o(t),e);return[...r,...n].join("")},T=t=>({type:"enhance",data:t.data,reduce:t}),$=(t,e)=>T(f({data:{name:t},reducer:r=>{const{scope:n,parts:a,parent:s}=r;let i=t;if(e){const{parts:n}=y(o(e),{...r,parts:[]});i=n.join("")||t}let p=0;for(;i in n;)p++,i=`${t}_${p}`;return{...r,parent:s,parts:[...a,i],scope:c({...n,[t]:{...s,toString:()=>i,length:i.length}})}}})),v=(t,e)=>T(f({reducer:r=>{const{indent:n,processed:a,scope:s,scopePath:c,parent:i,partsToExtract:p,parts:d}=r,u=y(o(t),{...r,indent:n+2,scopePath:[...c,e],processed:[],parts:[],partsToExtract:[]});return{...r,partsToExtract:[...p,...u.partsToExtract],parts:[...d,...u.parts],processed:[...a,i,...u.processed]}},data:{scopeDescription:e,body:t}})),E=t=>({...t.scope,_context:t}),K=t=>t,b={type:"terminator",data:{},reduce:function(t){const{processed:e,parts:r}=t,n=(({processed:t})=>{const e=w(t);return e>=0?t.slice(e):t})(t),a=(o=n,o.filter(t=>"comment-inline"===t.type)),s="# "+a.map(({data:{comment:t}})=>t).join(" | ");var o;return{...t,processed:[...e,this],parts:a.length?[...r,"\n",s]:[...r,"\n"]}}},w=s(({type:t})=>"terminator"===t);const j=(t,e=!0)=>({reduce:m,type:"comment",parts:[h,`#${e?" ":""}${t}`,b],data:{comment:t}}),C=t=>N(t).map(t=>j(t,!1)),N=t=>{const e=t.getLeadingCommentRanges(),r=t.getTrailingCommentRanges();return[...e.map(t=>t.getText().split("\n").join("\n#")),...r.map(t=>t.getText().split("\n").join("\n#"))]},P=(t,...e)=>e.every(t=>"function"!=typeof t)?a(Array.from(t),e.flat(1)).filter(t=>void 0!==t&&(!d(t)||t.length>0)).map(u):[l(({_context:r})=>g(a(Array.from(t).map(u),e.filter(t=>void 0!==t).map(t=>g(t,r))),r))],k=(t,...e)=>{const r=P(t,...e),[n,...a]=r,[s]=a.reverse();return[...n&&"starter"!==n.type?[x]:[],...r,...s&&"terminator"===s.type?[]:[b]]},A=(t,e)=>((t,e)=>({parts:void 0!==e?k`declare ${t}=${e}`:k`declare ${t}`,type:"declaration",data:{variable:t,initializer:e},reduce:m}))($(t),e),L=({name:t,body:e,as:r})=>({type:"function",data:{name:t,body:e,as:r},reduce:m,parts:k`function ${$(t,r)} {
${v(e,t)}${x}}`});function _(t){return[...t.getText().split("\n").map(e=>j(`<unsupported> ${e.padEnd(40," ")} # ${t.getKindName()}`))]}let D=function(t,e=!0){switch(t.getKind()){case n.SyntaxKind.ExpressionStatement:return function(t){const e=t.getChildAtIndex(0);switch(e.getKind()){case n.SyntaxKind.CallExpression:return[...C(t),...F(e)];default:return _(t)}}(t);case n.SyntaxKind.FunctionDeclaration:return function(t,e=!0){const r=t.getName();if(!r)return[];const n=t.getParameters().map((t,e)=>{const r=t.getName()||"_";t.getType();return A(r,(t=>({type:"variable",parts:[P`\${${t.toString()}}`],data:{name:t},reduce:m}))(e+1))}),a=t.getStatements().map(t=>D(t,!1)).flat(1),s=(t=>(e=K)=>({_context:{scopePath:r}})=>e(`${r.join(".")}.${t}`))(r),c=[L({name:r,as:e?r:s(),body:[...n,...a]})];return e?c:P`${i=c,T(f({reducer:t=>{const{indent:e,processed:r,scope:n,scopePath:a,parent:s,partsToExtract:c,parts:p}=t,d=y(o(i),{...t,indent:0,parts:[],partsToExtract:[]});return{...t,partsToExtract:[...c,...d.parts,...d.partsToExtract,"\n"],parts:p,processed:d.processed}},data:{body:i}}))}${s(t=>j("function declaration extracted, see: "+t))}`;var i}(t,e);case n.SyntaxKind.VariableStatement:return function(t){const e=t.getDeclarationList();return e.getDeclarations().map(t=>{const e=t.getName(),r=t.getInitializer();let a=void 0;if(r)switch(r.getKind()){case n.SyntaxKind.StringLiteral:a=r.getText();break;default:a=j("Unsupported initializer type: "+r.getKindName())}return A(e,a)})}(t);case n.SyntaxKind.ImportDeclaration:return function(t){const e=t.getModuleSpecifierValue();return t.getNamedImports().map(t=>{const r=t.getName();return((t,e)=>T(f({data:{name:t,usage:e},reducer:r=>{const{scope:n,parent:a}=r,s=S(e,{...r,parts:[]});return{...r,scope:c({...n,[t]:{...a,toString:()=>s,length:s.length}})}}})))(r,`@module "${e}" ${r}`)}).flat(1)}(t);case n.SyntaxKind.MultiLineCommentTrivia:case n.SyntaxKind.SingleLineCommentTrivia:return function(t){return[...t.getText().split("\n").map(t=>j(t))]}(t);default:return _(t)}};function F(t){const e=t.getExpression(),r=t.getArguments(),n=e.getText(),a=r.map(t=>t.getText()),s=(o=r.map(t=>C(t)),[].concat(...o));var o;const c=s.length>0?" # "+s.join(", "):"",i=a.join(" ");return k`${t=>t[n]||n}${i.length?" "+i:""}${c}`}function O(t){switch(t.getKind()){case n.SyntaxKind.EndOfFileToken:return[];case n.SyntaxKind.SyntaxList:default:return t.getChildren().map(t=>D(t,!0)).flat(1)}}const I=t=>{const e=(r=t,new n.Project({useInMemoryFileSystem:!0,addFilesFromTsConfig:!1,compilerOptions:{strict:!0,noLib:!0}}).createSourceFile("main.ts",r));var r;try{return function(t){if(!t)return"";const e=t.getChildren().map(O).flat(1);return S(e)}(e)}catch(t){return}}},32574:()=>{},37487:()=>{},12993:()=>{},34873:()=>{},80905:()=>{},94219:()=>{},80004:()=>{},61758:()=>{}}]);
//# sourceMappingURL=1288.js.map